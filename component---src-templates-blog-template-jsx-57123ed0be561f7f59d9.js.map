{"version":3,"sources":["webpack:///./src/components/photoComposition.jsx","webpack:///./src/templates/blogTemplate.jsx"],"names":["photoComposition_PhotoComposition","PhotoComposition","props","_this","_Component","call","this","state","lightbox","photos","JSON","parse","gotoPrevLightboxImage","photo","setState","a","gotoNextLightboxImage","openLightbox","event","preventDefault","closeLightbox","render","_this2","perline","react_default","createElement","Grid_default","container","spacing","map","i","item","xs","sm","Number","key","href","onClick","e","src","react","Component","propTypes","prop_types_default","string","isRequired","photoComposition","y","v","b","w","d","R","renderAst","rehype_react_default","components","photo-composition","Compiler","BlogPost","_ref","data","classes","pageContext","markdownRemark","site","similar","siteUrl","siteMetadata","frontmatter","htmlAst","excerpt","timeToRead","tableOfContents","layout","title","Helmet_default","name","content","tags","property","path","cover","childImageSharp","fluid","className","spacer","cardPost","date","text","expand","type","country","toc","Typography_default","variant","gutterBottom","dangerouslySetInnerHTML","__html","length","filter","post","slice","component","pageQuery","shape","__webpack_exports__","default","Object","withRoot","styles","withStyles","theme","_toc","marginBottom","unit","marginTop","typography","body1","top","width","flexShrink","order","position","wordBreak","height","overflowY","padding","display","breakpoints","up","paddingLeft","margin","listStyleType","fontSize","color","textDecoration","&:hover"],"mappings":"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","file":"component---src-templates-blog-template-jsx-57123ed0be561f7f59d9.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Img from 'gatsby-image';\nimport Grid from '@material-ui/core/Grid';\nimport Lightbox from 'react-images';\n\nclass PhotoComposition extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      lightbox: false,\n      photos: JSON.parse(props.photos),\n    };\n  }\n\n  // dedup this code into a component to be used with cardPost as well\n  gotoPrevLightboxImage() {\n    const { photo } = this.state;\n    this.setState({ photo: photo - 1 });\n  }\n\n  gotoNextLightboxImage() {\n    const { photo } = this.state;\n    this.setState({ photo: photo + 1 });\n  }\n\n  openLightbox(photo, event) {\n    event.preventDefault();\n    this.setState({ lightbox: true, photo });\n  }\n\n  closeLightbox() {\n    this.setState({ lightbox: false });\n  }\n\n  render() {\n    const { perline } = this.props;\n    const { photos } = this.state;\n    return (\n      <Grid container spacing={24}>\n        {photos.map((photo, i) => (\n          <Grid item xs={12} sm={12 / Number(perline)} key={i}>\n            <a href={photo} onClick={e => this.openLightbox(i, e)}>\n              <img src={photo} />\n            </a>\n          </Grid>\n        ))}\n      </Grid>\n    );\n  }\n}\n\nPhotoComposition.propTypes = {\n  photos: PropTypes.string.isRequired,\n  perline: PropTypes.string.isRequired,\n};\n\nexport default PhotoComposition;\n","import React from 'react';\nimport Helmet from 'react-helmet';\nimport PropTypes from 'prop-types';\nimport { graphql } from 'gatsby';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport rehypeReact from 'rehype-react';\n\nimport PhotoComposition from '../components/photoComposition';\nimport withRoot from '../withRoot';\nimport App from '../components/layout';\nimport CardPost from '../components/cardPost';\n\n\nconst styles = theme => ({\n  spacer: {\n    marginBottom: theme.spacing.unit * 2,\n    marginTop: theme.spacing.unit * 3,\n  },\n  text: {\n    ...theme.typography.body1,\n  },\n  toc: {\n    top: 90,\n    width: 162,\n    flexShrink: 0,\n    order: 2,\n    position: 'sticky',\n    wordBreak: 'break-word',\n    height: 'calc(100vh - 70px)',\n    overflowY: 'auto',\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 2}px ${theme.spacing.unit * 2}px 0`,\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n    '& $ul': {\n      paddingLeft: theme.spacing.unit * 2,\n      margin: 0,\n      listStyleType: 'none',\n    },\n    '& $li': {\n      fontSize: 14,\n      padding: `${theme.spacing.unit / 2}px 0`,\n    },\n    '& $a': {\n      color: 'rgba(0, 0, 0, 0.54)',\n      textDecoration: 'none',\n      '&:hover': {\n        color: 'black',\n      },\n    },\n  },\n});\n\nconst renderAst = new rehypeReact({ // eslint-disable-line new-cap\n  createElement: React.createElement,\n  components: { 'photo-composition': PhotoComposition },\n}).Compiler;\n\nfunction BlogPost({\n  data, classes, pageContext, // this prop will be injected by the GraphQL query below.\n}) {\n  const { markdownRemark, site } = data; // data.markdownRemark holds our post data\n  const { similar } = pageContext;\n  const { siteMetadata: { siteUrl } } = site;\n  const {\n    frontmatter,\n    htmlAst,\n    excerpt,\n    timeToRead,\n    tableOfContents,\n  } = markdownRemark;\n  return (\n    <App title=\"OAsome blog\">\n      <Helmet>\n        <title>\n          {frontmatter.title}\n        </title>\n        <meta name=\"description\" content={excerpt} />\n        <meta name=\"keywords\" content={frontmatter.tags} />\n        <meta property=\"og:site_name\" content=\"OAsome secrets\" />\n        <meta property=\"og:type\" content=\"article\" />\n        <meta property=\"og:title\" content={frontmatter.title} />\n        <meta property=\"og:description\" content={excerpt} />\n        <meta property=\"og:url\" content={`${siteUrl}${frontmatter.path}`} />\n        <meta property=\"og:image\" content={`${siteUrl}${frontmatter.cover.childImageSharp.fluid.src}`} />\n        <meta name=\"twitter:card\" content=\"summary_large_image\" />\n        <meta name=\"twitter:title\" content={frontmatter.title} />\n        <meta name=\"twitter:description\" content={excerpt} />\n        <meta name=\"twitter:url\" content={`${siteUrl}${frontmatter.path}`} />\n        <meta name=\"twitter:image\" content={`${siteUrl}${frontmatter.cover.childImageSharp.fluid.src}`} />\n      </Helmet>\n      <Grid container spacing={24} className={classes.spacer}>\n        <Grid item xs={12} sm={tableOfContents ? 10 : 12}>\n          <CardPost\n            title={frontmatter.title}\n            date={frontmatter.date}\n            cover={frontmatter.cover}\n            tags={frontmatter.tags}\n            content={(\n              <div className={classes.text}>\n                {renderAst(htmlAst)}\n              </div>\n            )}\n            expand={false}\n            photos={frontmatter.photos || []}\n            type={frontmatter.type}\n            timeToRead={timeToRead}\n            country={frontmatter.country}\n          />\n        </Grid>\n        {tableOfContents\n          && (\n            <Grid item sm={2} className={classes.toc}>\n              <Typography variant=\"title\" gutterBottom>\n                Contents\n              </Typography>\n              <div dangerouslySetInnerHTML={{ __html: tableOfContents }} />\n            </Grid>\n          )\n        }\n      </Grid>\n      {similar.length > 0\n        && (\n          <Grid container spacing={24} className={classes.spacer}>\n            <Grid item xs={12}>\n              <Typography variant=\"display1\">\n                Similar articles\n              </Typography>\n            </Grid>\n            {similar.filter(post => post.frontmatter.title !== frontmatter.title).slice(0, 8).map(post => (\n              <Grid item xs={12} sm={6} key={post.frontmatter.title}>\n                <CardPost\n                  title={post.frontmatter.title}\n                  date={post.frontmatter.date}\n                  cover={post.frontmatter.cover}\n                  tags={post.frontmatter.tags}\n                  timeToRead={post.timeToRead}\n                  type={post.frontmatter.type}\n                  content={(\n                    <Typography component=\"p\">\n                      {post.excerpt}\n                    </Typography>\n                  )}\n                  path={post.frontmatter.path}\n                  country={frontmatter.country}\n                  expand\n                />\n              </Grid>\n            ))}\n          </Grid>\n        )\n      }\n    </App>\n  );\n}\n\nexport const pageQuery = graphql`\n  query($path: String!) {\n    site {\n      siteMetadata {\n        siteUrl\n      }\n    }\n    markdownRemark(frontmatter: { path: { eq: $path } }) {\n      htmlAst\n      timeToRead\n      tableOfContents\n      excerpt(pruneLength: 150)\n      frontmatter {\n        date(formatString: \"MMMM DD, YYYY\")\n        path\n        title\n        tags\n        type\n        country\n        photos {\n          childImageSharp{\n            fluid(maxWidth: 1200) {\n              ...GatsbyImageSharpFluid\n            }\n          }\n        },\n        cover {\n          childImageSharp{\n            fluid(maxWidth: 1200) {\n              ...GatsbyImageSharpFluid\n            }\n          }\n        },\n      }\n    }\n  }\n`;\n\n\nBlogPost.propTypes = {\n  classes: PropTypes.shape().isRequired,\n  data: PropTypes.shape().isRequired,\n  pageContext: PropTypes.shape().isRequired,\n};\n\nexport default withRoot(withStyles(styles)(BlogPost));\n"],"sourceRoot":""}